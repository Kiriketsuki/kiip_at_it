<!DOCTYPE html>

<html>
    <head>
        <meta charset = "utf-8"/>
        <meta name = "viewport" content = "width = device-width, initial-scale = 1"/>

        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
        <script src="https://kit.fontawesome.com/a2fab740ba.js" crossorigin="anonymous"></script>
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital@1&display=swap" rel="stylesheet"> 
        <link href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,300;1,600&display=swap" rel="stylesheet"> 
        <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;1,400;1,500;1,700&display=swap" rel="stylesheet"> 
        <link rel="stylesheet" href="{{ url_for('static',filename='styles/styles_grid.css') }}">

        {% if not user.is_authenticated %}
        <link rel="stylesheet" href="{{ url_for('static',filename='styles/alt_wallpaper.css') }}">
        {% endif %}

        {% block bonus_css %}
        {% endblock %}

        <title>
            {% block title%}
                Kiip At It Base
            {% endblock %}
        </title>
    </head>

    <body>
        <nav class = "navbar" id = "navbar">
            <ul class = "navbar-nav">
                <li class = "logo">
                    <a href = "#" class = "nav-link">
                        <i class="fab fa-connectdevelop"></i>
                        <span class = "link-text logo-text">
                            Kiip At It
                        </span>
                    </a>
                </li>

                <li class = "nav-item">
                    <a href = "/" class = "nav-link">
                        <i class="fas fa-home"></i>
                        <span class = "link-text">
                            Home
                        </span>
                    </a>
                </li>

                {% if not user.is_authenticated %}
                <li class = "nav-item">
                    <a href = "/login" class = "nav-link">
                        <i class="fas fa-sign-in-alt"></i>
                        <span class = "link-text">
                            Login
                        </span>
                    </a>
                </li>

                <li class = "nav-item">
                    <a href = "/sign_up" class = "nav-link">
                        <i class="fas fa-user-plus"></i>
                        <span class = "link-text">
                            Sign Up
                        </span>
                    </a>
                </li>
                
                {% else %}

                <li class = "nav-item">
                    <a href="/account" class = "nav-link">
                        <i class="fas fa-user"></i>
                        <span class = "link-text">
                            Account
                        </span>
                    </a>
                </li>

                <li class = "nav-item">
                    <a href = "/logout" class = "nav-link">
                        <i class="fas fa-sign-out-alt"></i>
                        <span class = "link-text">
                            Logout
                        </span>
                    </a>
                </li>

                {% endif %}

                <li class = "nav-item">
                    <a href="/about" class = "nav-link about" id = "about">
                        <i class="fas fa-rocket"></i>
                        <span class = "link-text">
                            About        
                        </span>
                    </a>
                </li>
            </ul>
        </nav>

        <main>
            <div id = "title_bar">
                {% block title_bar%}
                    <!-- Kiip at it! -->
                {% endblock %}
            </div>
    
            <div id = "score_bar">
                {% block score_bar%}
                    <!-- 1 task done! -->
                {% endblock %}
            </div>
    
            <div id = "motivational_left">
                {% block motivational_left%}
                    <!-- uncle iroh quote 1 -->
                {% endblock %}
            </div>
    
            <div id = "motivational_right">
                {% block motivational_right%}
                    <!-- "tatakae - eren yeager" -->
                {% endblock %}
            </div>
    
            <div id = "encouragement_bottom">
                {% block encouragement_bottom%}
                    <!-- Any progress is still progress -->
                {% endblock %}
            </div>

            <div id = "messages">
                {% with messages = get_flashed_messages(with_categories = 'true') %}
                    {% if messages %}
                        {% for category, message in messages %}
                            {% if category == "error" %}
                                <div class = "alert alert-danger alert-dismissable fade show" role = "alert" style = "grid-area: mid; vertical-align: top; position: relative; z-index: 99;">
                                    {{ message }}
                                    
                                    <button type = "button" class = "btn-close" data-bs-dismiss = "alert" aria-label = "Close">
                                        <span aria-hidden = "true">
                                            <!-- &times; -->
                                        </span>
                                    </button>
                                </div>
                            {% else %}
                                <div class = "alert alert-success alert-dismissable fade show" role = "alert" style = "grid-area: mid; vertical-align: top; position: relative; z-index: 99;">
                                    {{ message }}
                                    
                                    <button type = "button" class = "btn-close" data-bs-dismiss = "alert" aria-label = "Close">
                                        <span aria-hidden = "true">
                                            <!-- &times; -->
                                        </span>
                                    </button>
                                </div>
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                {% endwith %}
            </div>
    
            <div id = "main_content">
                {% block main_content %}
                    <!-- 0th: Start using this website -->
                {% endblock %}
            </div>

            <div id = "buttons">
                {% block buttons %}

                {% endblock %}
            </div>

        </main>

        <div id = "pop_up">
            {% block pop_up %}
            
            {% endblock %}
        </div>

        <!-- <audio autoplay src="{{ url_for('static',filename='music/pom_pom.mp3') }}">
            <p>If you are reading this, it is because your browser does not support the audio element.     </p>
        </audio>
             -->

        <embed src="{{ url_for('static',filename='music/pom_pom.mp3') }}" width="180" height="90" loop="true" autostart="true" hidden="true" />

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
        <script type = "text/javascript" src = "{{ url_for('static', filename = 'scripts/sidenav.js') }}"></script>
        <script type = "text/javascript" src = "{{ url_for('static', filename = 'scripts/script.js') }}"></script>
        <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
        <script>
          AOS.init();
        </script>      
    </body>
</html>